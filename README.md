# niceControl_microservices
niceControl microservices repository

# Домашнее задание №12

## В процессе сделано:
* Установлен Docker, освоены основные команды Docker

# Домашнее задание №13

## В процессе сделано:
* Создан docker image
* Image загружен на docker hub
* Проверена работа image, взятого с docker hub

# Домашнее задание №14

## В процессе сделано:
* Освоены способы создания микросервисных приложений, путем разбития их на несколько docker-контейнеров
* Освоены способы уменьшения размера создаваемых docker image
* Получено представление о работе с docker volume при создании контейнеров.

# Домашнее задание №15
При запуске docker-compose имя проекта берется из комбинации "имя директории" + "имя контейнера", если не указано иное в переменной "COMPOSE_PROJECT_NAME".
Имя этой переменной можно задать в .env файле.

## В процессе сделано:
* Освоены принципы работы docker контейнеров с различными network driver(none,host,bridge)
* Созданы контейнеры в разных сетях, налажено общение между этими контейнерами в разных сетях
* Освоены принципы работы docker-compose, освоена работа с переменными, docker_compose.yml - параметризирован.

# Домашнее задание №16

## В процессе сделано:
* Поднят сервер с gitlab, настроены группа и проект.
* Добавлен pipeline, создан runner для выполнения pipeline.

## Дополнительные задания:
* Добавлена конфигурация ansible для автоматизации создания и регистрации Gitlab Runner.
* Добавлена Slack интеграция для Gitlab, проверить интеграцию можно в канале:
https://devops-team-otus.slack.com/messages/CB8ADSVL4/


# Домашнее задание №17

## В процессе сделано:
* Создан новый проект, к нему подключен созданный ранее Runner.
* Расширили pipeline проекта, добавив к нему несколько различных environment, в том числе создание нового env на каждый новый бранч.

# Домашнее задание №18

* Ссылка на docker hub с образами - https://hub.docker.com/r/nicecontrol/

## В процессе сделано:
* Создан образ prometheus для поднятия системы мониторинга
* С помощью docker-compose подняты микросервисы и система мониторинга.
* Освоены базовые способы просмотра метрик в Prometheus

# Домашнее задание №19

* Ссылка на docker hub с образами - https://hub.docker.com/r/nicecontrol/

## В процессе сделано:
* К мониторингу подключены сервисы cAdvisor, Grafana
* Освоена работа с дашбордами и графиками в Grafana
* Подключен и протестирован Алертинг на случай падения одного из сервисов.

#Домашнее задание №20

## В процессе сделано:

* Подняты системы логирования kibana+elasticsearch, fluentd
* Освоена работа с структурированными, неструктурированными логами
* С помощью Kibana освоены способы визуализации логов
* Освоен способ трассировки с помощью Zipkin


#Домашнее задание №21

## В процессе сделано:

* Пройдет туториал *Kubernetes The Hard way* по ссылке - https://github.com/kelseyhightower/kubernetes-the-hard-way
* В рамках туториала развернули кластер с помощью GCE, настроили сеть, запустили PODs, прогнали smoke-тест из туториала.
* Протестировали создание Pods для приложения Reddit с помощью команды `kubectl apply -f <filename>` для каждого файла в папке kubernetes/reddit
* Успешно удалили созданный в рамках туториала кластер.


#Домашнее задание №22

## В процессе сделано:
* Развернут кластер в minikube, задеплоено и запущено приложение. См. kuber2-hw.png
* Развернут кластер в GKE с помощью UI, настроены права доступа для Service Account. Приложение и kubernetes dashboard - работают.


#Домашнее задание №23

## В процессе сделано:
* Опробованы различные балансировщики для кластера, в итоге остановились на Ingress. Настроен Ingress Controller под веб.
* Освоены базовые принципы работы с Secrets и сертификатами, настроили Ingress на работу только с HTTPS
* Освоена работа с Network Policy, ограничен траффик, поступающий на mongodb
* Освоена работа с различными Volume, подключены  PersistentVolumeClaims к подам.


#Домашнее задание №24

## В процессе сделано:

* Освоена работа с Helm, использование Charts. С помощью Templates функций были кастамизированы различные конфиги.
* Освоена работа с зависимости в Charts, было создано приложение Reddit с зависимостями от comment,post,ui
* Поднят GitLab на кластере, созданы проекты под каждое приложение
* Развернули приложение reddit в stage и production окружениях

#Доманшнее задание №25

## В процессе сделано:

* Был развернут на кластере Prometheus, был проапдейчен конфиг для показа метрик по приложениям.
* Была поднята Grafana, параметризированы дашборды
* Поднят ElasticSearch+Fluentd+Kibana для логирования.

